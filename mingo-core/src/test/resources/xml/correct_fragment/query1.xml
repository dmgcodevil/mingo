<?xml version="1.0" encoding="UTF-8"?>

<querySet xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:noNamespaceSchemaLocation="../../../../main/resources/xml-schema/query.xsd">

    <config collectionName="collection"/>

    <queryFragment id="query-1f">
        {'body' : 'query-1-fragment'},{'body2' : 'query-1-fragment'}
    </queryFragment>

    <queryFragment id="query-2f">
        {'body' : 'query-2-fragment'}
    </queryFragment>

   <query id="query-1" type="aggregation">
        <fragment ref="query-1f" condition="empty(name1)"/>,
        {'body' : 'query-1'},
        <fragment ref="query-2f" condition="not empty(name2)"/>
    </query>

    <query id="query-2" type="aggregation">
        <fragment ref="query-1f" condition="not empty(name1)"/>
    </query>

<!--
NOT SUPPORTED
<query id="query-2" type="simple">

        {<fragment ref="query-1f" condition="empty(name1)"/>, 'body' : 'query-1',<fragment
            ref="query-2f" condition="not empty(name2)"/>}

    </query>-->

</querySet>
